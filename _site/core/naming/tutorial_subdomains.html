<!DOCTYPE html>
<html lang="en">

    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Subdomain Design and Implementation | Blockstack</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Subdomain Design and Implementation" />
<meta name="author" content="Blockstack" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Subdomain Design and Implementation" />
<meta property="og:description" content="Subdomain Design and Implementation" />
<link rel="canonical" href="https://docs.blockstack.org/core/naming/tutorial_subdomains.html" />
<meta property="og:url" content="https://docs.blockstack.org/core/naming/tutorial_subdomains.html" />
<meta property="og:site_name" content="Blockstack" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-17T09:38:36-07:00" />
<script type="application/ld+json">
{"description":"Subdomain Design and Implementation","author":{"@type":"Person","name":"Blockstack"},"@type":"BlogPosting","url":"https://docs.blockstack.org/core/naming/tutorial_subdomains.html","headline":"Subdomain Design and Implementation","dateModified":"2018-09-17T09:38:36-07:00","datePublished":"2018-09-17T09:38:36-07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://docs.blockstack.org/core/naming/tutorial_subdomains.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <!-- <meta property="og:image" content="https://docs.blockstack.org/assets/posts/logo.png"/> -->
  <meta property="og:image" content="/assets/posts/logo.png"/>
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" type="image/png" href="/assets/img/touch-icon.png" >
  <link rel="alternate" type="application/rss+xml" title="Blockstack" href="/feed.xml">
  <script src="/assets/js/main.js"></script>
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125894815-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125894815-1');
</script>

  
</head>


    <body>

    <header class="uk-background-secondary">
    <div data-uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky" class="uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 1904px;">
        <nav class="uk-navbar-container">
            <div class="uk-container">
    <div data-uk-navbar>
        <div class="uk-navbar-left">

            <!-- <a class="uk-navbar-item uk-logo" href="/"><img src="https://docs.blockstack.org/assets/posts/logo.png" alt="Docs"></a> -->
            <a class="uk-navbar-item uk-logo" href="/"><img src="/assets/posts/logo.png" alt="Docs">
             &nbsp;&nbsp;&nbsp;

             <svg style="width:141.602;height:11.487px" viewBox="0 0 141.602 11.487" enable-background="new 0 0 141.602 11.487"><path fill="#000000" d="M5.471,7.791c0,0.511-0.16,0.875-0.488,1.111C4.631,9.158,4.097,9.287,3.398,9.287H2.387V6.456h1.011 C5.256,6.456,5.471,7.219,5.471,7.791z M4.554,4.223C4.29,4.448,3.82,4.562,3.16,4.562H2.387V2.2h0.821 c0.611,0,1.066,0.094,1.352,0.279C4.81,2.641,4.933,2.907,4.933,3.292C4.933,3.704,4.809,4.008,4.554,4.223z M6.004,5.338 c0.325-0.181,0.59-0.418,0.79-0.709c0.327-0.476,0.493-1.001,0.493-1.562c0-0.53-0.105-0.989-0.313-1.362 c-0.208-0.374-0.5-0.677-0.867-0.9C5.754,0.59,5.333,0.432,4.855,0.335C4.391,0.24,3.879,0.192,3.334,0.192h-3.06 C0.123,0.192,0,0.317,0,0.471v10.545c0,0.154,0.123,0.278,0.274,0.278h3.315c0.591,0,1.143-0.065,1.645-0.194 c0.513-0.132,0.966-0.339,1.345-0.615c0.388-0.283,0.694-0.641,0.91-1.067C7.702,8.992,7.811,8.488,7.811,7.92 c0-0.78-0.226-1.413-0.672-1.879C6.847,5.737,6.467,5.502,6.004,5.338z M22.197,9.158h-4.595V0.471c0-0.153-0.123-0.278-0.274-0.278 h-1.824c-0.151,0-0.273,0.125-0.273,0.278v10.545c0,0.154,0.122,0.278,0.273,0.278h6.693c0.151,0,0.274-0.124,0.274-0.278v-1.58 C22.47,9.282,22.348,9.158,22.197,9.158z M35.076,5.695c0,0.567-0.051,1.086-0.151,1.543c-0.1,0.45-0.24,0.836-0.416,1.149 c-0.167,0.299-0.37,0.53-0.603,0.688c-0.461,0.312-1.061,0.3-1.505-0.001c-0.233-0.157-0.436-0.389-0.604-0.688 c-0.175-0.313-0.312-0.699-0.407-1.146c-0.096-0.458-0.144-0.978-0.144-1.546c0-1.126,0.187-2.013,0.556-2.638 c0.346-0.587,0.791-0.873,1.36-0.873c0.568,0,1.012,0.285,1.359,0.873C34.889,3.682,35.076,4.569,35.076,5.695z M36.319,1.541 c-0.378-0.494-0.844-0.879-1.381-1.144c-1.076-0.529-2.477-0.529-3.553,0c-0.538,0.265-1.003,0.65-1.381,1.144 c-0.373,0.487-0.669,1.09-0.879,1.792c-0.208,0.696-0.313,1.49-0.313,2.362c0,0.882,0.105,1.685,0.313,2.386 c0.21,0.706,0.504,1.318,0.876,1.821c0.378,0.511,0.844,0.908,1.382,1.179c0.538,0.27,1.136,0.407,1.779,0.407 c0.642,0,1.24-0.137,1.778-0.408c0.538-0.27,1.003-0.667,1.382-1.178c0.372-0.503,0.667-1.115,0.876-1.821 c0.208-0.7,0.314-1.502,0.314-2.386c0-0.873-0.105-1.667-0.314-2.363C36.988,2.631,36.692,2.028,36.319,1.541z M51.29,8.346 c-0.052-0.058-0.125-0.092-0.203-0.092c-0.077,0-0.151,0.033-0.203,0.092c-0.273,0.308-0.566,0.549-0.871,0.715 c-0.602,0.33-1.469,0.308-2.099,0.002c-0.326-0.159-0.608-0.387-0.841-0.681c-0.236-0.299-0.423-0.675-0.554-1.116 c-0.134-0.45-0.203-0.968-0.203-1.539c0-0.56,0.068-1.07,0.203-1.515c0.132-0.437,0.316-0.81,0.548-1.111 c0.227-0.293,0.504-0.522,0.825-0.68c0.614-0.302,1.45-0.317,2.02-0.032c0.283,0.142,0.543,0.333,0.775,0.568 c0.054,0.054,0.147,0.088,0.2,0.081c0.075-0.002,0.146-0.036,0.196-0.092l1.03-1.161c0.098-0.11,0.094-0.278-0.01-0.383 c-0.355-0.361-0.799-0.687-1.317-0.968c-1.105-0.597-2.643-0.547-3.841-0.044c-0.621,0.262-1.165,0.648-1.618,1.149 c-0.451,0.498-0.809,1.113-1.064,1.827c-0.253,0.71-0.381,1.521-0.381,2.408c0,0.899,0.128,1.712,0.381,2.417 c0.255,0.709,0.614,1.317,1.066,1.805c0.454,0.489,0.993,0.865,1.603,1.115c0.607,0.249,1.268,0.374,1.966,0.374 c0.695,0,1.333-0.142,1.897-0.423c0.559-0.279,1.068-0.684,1.513-1.204c0.09-0.106,0.089-0.264-0.004-0.368L51.29,8.346z M64.109,4.608l3.075-3.966c0.065-0.083,0.077-0.198,0.031-0.293c-0.045-0.096-0.141-0.157-0.245-0.157h-2.046 c-0.084,0-0.163,0.039-0.215,0.106l-3.254,4.218V0.47c0-0.153-0.123-0.277-0.274-0.277h-1.855c-0.151,0-0.274,0.124-0.274,0.277 v10.546c0,0.153,0.122,0.278,0.274,0.278h1.855c0.151,0,0.274-0.125,0.274-0.278V8.034l1.185-1.483l2.392,4.594 c0.048,0.091,0.141,0.148,0.242,0.148h2.046c0.097,0,0.186-0.052,0.236-0.138c0.049-0.085,0.05-0.19,0.003-0.276L64.109,4.608z M81.006,6.088c-0.218-0.244-0.478-0.462-0.773-0.647c-0.286-0.179-0.606-0.339-0.94-0.47l-1.368-0.598 c-0.235-0.097-0.461-0.189-0.679-0.276c-0.196-0.079-0.371-0.169-0.516-0.27c-0.134-0.092-0.24-0.197-0.315-0.311 c-0.065-0.099-0.097-0.22-0.097-0.369c0-0.297,0.112-0.514,0.351-0.683c0.263-0.187,0.64-0.281,1.12-0.281 c0.437,0,0.833,0.074,1.179,0.22c0.355,0.151,0.702,0.36,1.03,0.623c0.116,0.094,0.287,0.074,0.381-0.044l0.952-1.193 c0.091-0.114,0.079-0.279-0.026-0.38c-0.456-0.429-0.993-0.775-1.597-1.028c-1.114-0.467-2.435-0.495-3.459-0.144 c-0.469,0.161-0.88,0.389-1.221,0.678c-0.345,0.292-0.618,0.638-0.815,1.031c-0.199,0.398-0.299,0.834-0.299,1.296 c0,0.422,0.072,0.806,0.213,1.141c0.139,0.33,0.328,0.623,0.561,0.873c0.228,0.243,0.488,0.454,0.771,0.626 c0.277,0.169,0.564,0.312,0.841,0.42l1.425,0.634c0.249,0.095,0.479,0.19,0.692,0.285c0.198,0.088,0.367,0.184,0.504,0.285 c0.122,0.09,0.216,0.193,0.281,0.308c0.06,0.107,0.091,0.246,0.091,0.411c0,0.322-0.121,0.563-0.381,0.76 c-0.278,0.21-0.709,0.316-1.28,0.316c-0.467,0-0.934-0.103-1.388-0.307C75.78,8.788,75.358,8.514,74.99,8.18 c-0.056-0.05-0.127-0.077-0.201-0.07c-0.073,0.005-0.141,0.039-0.189,0.096l-1.078,1.274c-0.095,0.113-0.087,0.283,0.02,0.385 c0.541,0.516,1.167,0.92,1.862,1.2c0.695,0.281,1.434,0.423,2.195,0.423c0.63,0,1.205-0.09,1.707-0.265 c0.506-0.178,0.942-0.422,1.294-0.729c0.355-0.309,0.632-0.673,0.823-1.085c0.191-0.412,0.288-0.858,0.288-1.328 c0-0.419-0.062-0.797-0.185-1.123C81.404,6.632,81.229,6.339,81.006,6.088z M96.557,0.192h-8.374c-0.151,0-0.273,0.124-0.273,0.278 v1.58c0,0.154,0.122,0.278,0.273,0.278h2.994v8.687c0,0.154,0.122,0.278,0.274,0.278h1.84c0.151,0,0.273-0.124,0.273-0.278V2.328 h2.994c0.151,0,0.274-0.124,0.274-0.278v-1.58C96.831,0.317,96.708,0.192,96.557,0.192z M107.143,2.902 c0.074,0.282,0.149,0.566,0.226,0.851l0.725,2.664h-1.906l0.265-0.934c0.159-0.561,0.315-1.135,0.469-1.723 C106.996,3.473,107.071,3.188,107.143,2.902z M108.512,0.384c-0.037-0.114-0.142-0.192-0.261-0.192h-2.157 c-0.118,0-0.223,0.077-0.26,0.192l-3.362,10.546c-0.027,0.085-0.012,0.177,0.04,0.249c0.051,0.072,0.134,0.115,0.221,0.115h1.871 c0.122,0,0.229-0.082,0.263-0.201l0.752-2.653h3.044l0.736,2.651c0.034,0.12,0.141,0.203,0.263,0.203h1.951 c0.088,0,0.17-0.043,0.221-0.115c0.052-0.071,0.066-0.164,0.039-0.249L108.512,0.384z M125.302,8.346 c-0.104-0.117-0.302-0.117-0.406,0c-0.273,0.308-0.566,0.548-0.87,0.715c-0.603,0.329-1.469,0.308-2.1,0.002 c-0.326-0.159-0.608-0.387-0.841-0.681c-0.236-0.299-0.422-0.675-0.554-1.116c-0.134-0.449-0.202-0.966-0.202-1.539 c0-0.561,0.068-1.071,0.202-1.515c0.132-0.437,0.316-0.811,0.549-1.111c0.226-0.293,0.503-0.522,0.823-0.68 c0.614-0.302,1.45-0.317,2.02-0.032c0.283,0.142,0.544,0.332,0.775,0.567c0.053,0.055,0.131,0.089,0.2,0.082 c0.075-0.002,0.146-0.035,0.196-0.092l1.031-1.161c0.098-0.11,0.093-0.278-0.01-0.383c-0.355-0.361-0.8-0.687-1.318-0.968 c-1.105-0.597-2.644-0.547-3.841-0.044c-0.621,0.262-1.165,0.648-1.618,1.149c-0.451,0.498-0.809,1.113-1.063,1.827 c-0.254,0.71-0.382,1.521-0.382,2.409c0,0.899,0.128,1.712,0.382,2.417c0.254,0.709,0.612,1.317,1.065,1.805 c0.453,0.489,0.993,0.864,1.604,1.115c0.606,0.249,1.268,0.374,1.965,0.374c0.695,0,1.333-0.142,1.897-0.423 c0.559-0.279,1.067-0.684,1.514-1.204c0.09-0.106,0.089-0.264-0.004-0.368L125.302,8.346z M141.567,10.88l-3.448-6.272l3.075-3.966 c0.065-0.083,0.077-0.198,0.031-0.293c-0.045-0.096-0.141-0.157-0.246-0.157h-2.045c-0.084,0-0.164,0.039-0.215,0.106l-3.254,4.217 V0.47c0-0.153-0.122-0.277-0.274-0.277h-1.856c-0.151,0-0.274,0.124-0.274,0.277v10.546c0,0.153,0.123,0.278,0.274,0.278h1.856 c0.151,0,0.274-0.125,0.274-0.278V8.035l1.185-1.484l2.392,4.594c0.047,0.091,0.141,0.148,0.242,0.148h2.045 c0.097,0,0.187-0.052,0.236-0.138C141.614,11.071,141.615,10.966,141.567,10.88z"></path></svg>
        </a>
        </div>
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@m">
                
                    
                    
                    
                        <li><a href="https://blockstack.org" target="_blank" >Blockstack.org</a></li>
                    
                
                    
                    
                    
                        <li><a href="https://forum.blockstack.org/" target="_blank" >Forums</a></li>
                    
                
                    
                    
                    
                        <li><a href="https://github.com/blockstack" target="_blank" >GitHub</a></li>
                    
                
            </ul>

            
            <div>
                <a class="uk-navbar-toggle" uk-search-icon href="#"></a>
                <div class="uk-drop uk-background-default uk-border-rounded" uk-drop="mode: click; pos: left-center; offset: 0">
                    <form class="uk-search uk-search-navbar uk-width-1-1" onsubmit="return false;">
                        <input id="searchBox" class="uk-search-input" type="search" placeholder="Search..." autofocus>
                    </form>
                    <ul id="searchBox-results" class="uk-position-absolute uk-width-1-1 uk-list"></ul>
                </div>
            </div>
            

            <a class="uk-navbar-toggle uk-hidden@m" href="#offcanvas" data-uk-navbar-toggle-icon data-uk-toggle></a>

        </div>
    </div>
</div>

        </nav>
    </div>
</header>


    

    <div class="uk-section">
    <div class="uk-container">
        <div class="uk-grid-large" data-uk-grid>

            <div class="sidebar-fixed-width uk-visible@m">
                <div class="sidebar-docs uk-position-fixed">
                  <!--  -->
                    
                    
                         <h5>Overview</h5>
                    
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/introduction.html">Blockstack Naming Service (BNS)</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/architecture.html">Understand the Architecture</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/namespaces.html">Understand Namespaces</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/comparison.html">Naming system feature comparison</a></li>
                    
                    </ul>
                    
                    
                         <h5>Tutorials & Cookbooks</h5>
                    
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      <!--  -->
                      
                          <li class="uk-active"><a href="/core/naming/tutorial_subdomains.html">Subdomain Design and Implementation</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/search.html">How to build a Profile Search Index</a></li>
                    
                    </ul>
                    
                    
                         <h5>How to use BNS</h5>
                    
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/pickname.html">Choose a name</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/creationhowto.html">Creating a Namespace</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/resolving.html">Resolve a name</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/register.html">Register a name</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/manage.html">Manage BNS Names</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/subdomains.html">BNS Subdomains</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/naming/forks.html">BNS Forks</a></li>
                    
                    </ul>
                    
                    
                         <h5>Atlas</h5>
                    
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/atlas/overview.html">Overview of the Atlas network</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/atlas/howitworks.html">How Atlas Works</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/atlas/howtouse.html">How to Use the Atlas Network</a></li>
                    
                    </ul>
                    
                    
                         <h5>Reference</h5>
                    
                    <ul class="uk-nav uk-nav-default doc-nav">
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/common/javascript_ref.html">Blockstack Javascript Reference</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/common/core_ref.html">Blockstack CORE API</a></li>
                    
                      
                      <!--  -->
                      
                          <li class=""><a href="/core/faq_technical.html">Blockstack Technical FAQ</a></li>
                    
                    </ul>
                    
                  <!--  -->
                </div>
            </div>

            <div class="uk-width-1-1 uk-width-expand@m">

                <article markdown="span" class="uk-article">

                    <h1 class="uk-article-title">Subdomain Design and Implementation</h1>

                    


                    <div class="uk-article-meta uk-margin-top uk-margin-medium-bottom">
                        


    <!-- <img class="avatar avatar-small" alt="Blockstack" width="32" height="32" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/Blockstack?v=3&s=32" srcset="https://avatars2.githubusercontent.com/Blockstack?v=3&s=32 1x, https://avatars2.githubusercontent.com/Blockstack?v=3&s=64 2x, https://avatars2.githubusercontent.com/Blockstack?v=3&s=96 3x, https://avatars2.githubusercontent.com/Blockstack?v=3&s=128 4x" /> -->



    <!-- Written by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Blockstack</span></span><br> -->


<time datetime="2018-09-17T09:38:36-07:00" itemprop="datePublished">
    
    

<a "target="_blank" href="https://github.com/blockstack/blockstack-core/blob/master/docs/tutorial_subdomains.md" class="btn btn-default githubEditButton" role="button">
  <span data-uk-icon="icon: pencil; ratio: 1.2"></span> Edit this page on Github</a>
 <span style="font-family:Wingdings">&#119;</span> Sep 17, 2018
</time>

                    </div>

                    <div markdown="span" class="article-content">
                        
<p class="no_toc">Subdomains allow us to provide names to end users cheaply (and quickly). This
tutorial explains you how to create, register, and run a subdomain register, it
contains the following sections:</p>

<ul id="markdown-toc">
  <li><a href="#strong-subdomain-ownership" id="markdown-toc-strong-subdomain-ownership">Strong subdomain ownership</a></li>
  <li><a href="#overall-design" id="markdown-toc-overall-design">Overall Design</a></li>
  <li><a href="#zonefile-format" id="markdown-toc-zonefile-format">Zonefile Format</a>    <ul>
      <li><a href="#operations-per-zonefile" id="markdown-toc-operations-per-zonefile">Operations per Zonefile</a></li>
    </ul>
  </li>
  <li><a href="#domain-operator-endpoint" id="markdown-toc-domain-operator-endpoint">Domain Operator Endpoint</a>    <ul>
      <li><a href="#configuration-and-registration-files" id="markdown-toc-configuration-and-registration-files">Configuration and Registration Files</a></li>
      <li><a href="#register-subdomain" id="markdown-toc-register-subdomain">Register Subdomain</a></li>
      <li><a href="#check-subdomain-registration-status" id="markdown-toc-check-subdomain-registration-status">Check subdomain registration status</a></li>
      <li><a href="#updating-entries" id="markdown-toc-updating-entries">Updating Entries</a></li>
    </ul>
  </li>
  <li><a href="#resolver-behavior" id="markdown-toc-resolver-behavior">Resolver Behavior</a>    <ul>
      <li><a href="#supported-core--resolver-endpoints" id="markdown-toc-supported-core--resolver-endpoints">Supported Core / Resolver Endpoints</a></li>
      <li><a href="#subdomain-caching" id="markdown-toc-subdomain-caching">Subdomain Caching</a></li>
      <li><a href="#testing-subdomain-registrar-and-resolution" id="markdown-toc-testing-subdomain-registrar-and-resolution">Testing Subdomain Registrar and Resolution</a></li>
      <li><a href="#running-an-interactive-testing-environment-with-the-subdomain-registrar-service" id="markdown-toc-running-an-interactive-testing-environment-with-the-subdomain-registrar-service">Running an interactive testing environment with the Subdomain Registrar service</a></li>
    </ul>
  </li>
</ul>

<h2 id="strong-subdomain-ownership">Strong subdomain ownership</h2>

<p>For those who are new to this concept, it’s a model where domains can
permanently, cryptographically delegate subdomains to particular keys,
relinquishing their ability to revoke the names or change the name
resolution details.</p>

<p>These names will be indicated with an <code class="highlighter-rouge">.</code>, e.g., <code class="highlighter-rouge">foo.bar.id</code></p>

<h2 id="overall-design">Overall Design</h2>

<p>We can do this today with a special indexer &amp; resolver endpoint and
without any changes to the core protocol.</p>

<p>We can do this by having a zone file record for each subdomain <em>i</em>
containing the following information:</p>

<ol>
  <li>An owner address <em>addr</em></li>
  <li>A sequence number <em>N</em></li>
  <li>A zonefile</li>
  <li>A signature <em>S</em> of the above</li>
</ol>

<p>The signature <em>S_i</em> must be verifiable with the address in the
<em>(N-1)</em>th entry for subdomain <em>i</em>.</p>

<h2 id="zonefile-format">Zonefile Format</h2>

<p>For now, the resolver will use an <em>TXT</em> record per subdomain to define
this information. The entry name will be <code class="highlighter-rouge">$(subdomain)</code>.</p>

<p>We’ll use the format of <a href="https://tools.ietf.org/html/rfc1464">RFC 1464</a>
for the TXT entry. We’ll have the following strings with identifiers:</p>

<ol>
  <li><strong>parts</strong> : this specifies the number of pieces that the
zonefile has been chopped into. TXT strings can only be 255 bytes,
so we chop up the zonefile.</li>
  <li><strong>zf{n}</strong>: part <em>n</em> of the zonefile, base64 encoded</li>
  <li><strong>owner</strong>: the owner address delegated to operate the subdomain</li>
  <li><strong>seqn</strong>: the sequence number</li>
  <li><strong>sig</strong>: signature of the above data.</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>$ORIGIN bar.id
$TTL 3600
pubkey TXT "pubkey:data:0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
registrar URI 10 1 "bsreg://foo.com:8234"
aaron TXT "owner=33VvhhSQsYQyCVE2VzG3EHa9gfRCpboqHy" "seqn=0" "parts=1" "zf0=JE9SSUdJTiBhYXJvbgokVFRMIDM2MDAKbWFpbiBVUkkgMSAxICJwdWJrZXk6ZGF0YTowMzAyYWRlNTdlNjNiMzc1NDRmOGQ5Nzk4NjJhNDlkMDBkYmNlMDdmMjkzYmJlYjJhZWNmZTI5OTkxYTg3Mzk4YjgiCg=="
</code></pre>
</div>

<p>The <code class="highlighter-rouge">registrar</code> entry indicates how to contact the registrar service
for clients of the domain wishing to register or modify their entry.</p>

<h3 id="operations-per-zonefile">Operations per Zonefile</h3>

<p>At 4kb zonefile size, we can only fit around 20 updates per zonefile.</p>

<h2 id="domain-operator-endpoint">Domain Operator Endpoint</h2>

<p>The directory <code class="highlighter-rouge">subdomain_registrar/</code> contains our code for running a
subdomain registrar. It can be executed by running:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ blockstack-subdomain-registrar start foo.id
</code></pre>
</div>

<p>Here, <code class="highlighter-rouge">foo.id</code> is the domain for which subdomains will be associated.</p>

<h3 id="configuration-and-registration-files">Configuration and Registration Files</h3>

<p>Configuration of the subdomain registrar is done through <code class="highlighter-rouge">~/.blockstack_subdomains/config.ini</code></p>

<p>The sqlite database which stores the registrations is located alongside the config <code class="highlighter-rouge">~/.blockstack_subdomains/registrar.db</code>.</p>

<p>You can change the location of the config file (and the database), by setting the environment variable <code class="highlighter-rouge">BLOCKSTACK_SUBDOMAIN_CONFIG</code></p>

<h3 id="register-subdomain">Register Subdomain</h3>

<p>Subdomain registrations can be submitted to this endpoint using a REST
API.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>POST /register
</code></pre>
</div>

<p>The schema for registration is:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
        </span><span class="err">'type'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">'object',</span><span class="w">
        </span><span class="err">'properties'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">{</span><span class="w">
            </span><span class="err">'name'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">{</span><span class="w">
                </span><span class="err">'type':</span><span class="w"> </span><span class="err">'string',</span><span class="w">
                </span><span class="err">'pattern':</span><span class="w"> </span><span class="err">'([a-z0-9\-_+]{3,36</span><span class="p">}</span><span class="err">)$'</span><span class="w">
            </span><span class="err">},</span><span class="w">
            </span><span class="err">'owner_address'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="err">'type':</span><span class="w"> </span><span class="err">'string',</span><span class="w">
                </span><span class="err">'pattern':</span><span class="w"> </span><span class="err">schemas.OP_ADDRESS_PATTERN</span><span class="w">
            </span><span class="p">}</span><span class="err">,</span><span class="w">
            </span><span class="err">'zonefile'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="err">'type'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">'string',</span><span class="w">
                </span><span class="err">'maxLength'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">blockstack_constants.RPC_MAX_ZONEFILE_LEN</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="err">},</span><span class="w">
        </span><span class="err">'required':</span><span class="p">[</span><span class="w">
            </span><span class="err">'name'</span><span class="p">,</span><span class="w"> </span><span class="err">'owner_address'</span><span class="p">,</span><span class="w"> </span><span class="err">'zonefile'</span><span class="w">
        </span><span class="p">]</span><span class="err">,</span><span class="w">
        </span><span class="err">'additionalProperties'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">True</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<p>The registrar will:</p>

<ol>
  <li>Check if the subdomain <code class="highlighter-rouge">foo</code> exists already on the domain.</li>
  <li>Add the subdomain to the queue.</li>
</ol>

<p>On success, this returns <code class="highlighter-rouge">202</code> and the message</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w"> </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subdomain registration queued."</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>When the registrar wakes up to prepare a transaction, it packs the queued
registrations together and issues an <code class="highlighter-rouge">UPDATE</code>.</p>

<h3 id="check-subdomain-registration-status">Check subdomain registration status</h3>

<p>A user can check on the registration status of their name via querying the
registrar.</p>

<p>This is an API call:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>GET /status/{subdomain}
</code></pre>
</div>

<p>The registrar checks if the subdomain has propagated (i.e., the
registration is completed), in which case the following is returned:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subdomain already propagated"</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Or, if the subdomain has already been submitted in a transaction:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your subdomain was registered in transaction 09a40d6ea362608c68da6e1ebeb3210367abf7aa39ece5fd57fd63d269336399 -- it should propagate on the network once it has 6 confirmations."</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>If the subdomain still hasn’t been submitted yet:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Subdomain is queued for update and should be announced within the next few blocks."</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>If an error occurred trying to submit the <code class="highlighter-rouge">UPDATE</code> transaction, this endpoint will return an error
message in the <code class="highlighter-rouge">"error"</code> key of a JSON object.</p>

<h3 id="updating-entries">Updating Entries</h3>

<p>The subdomain registrar does not currently support updating subdomain entries.</p>

<h2 id="resolver-behavior">Resolver Behavior</h2>

<p>When a lookup like <code class="highlighter-rouge">foo.bar.id</code> hits the resolver, the resolver will need to:</p>

<ol>
  <li>Lookup the zonefile history of <code class="highlighter-rouge">bar.id</code></li>
  <li>Fetch all these zonefiles and filter by operations on <code class="highlighter-rouge">foo</code></li>
  <li>Verify that all <code class="highlighter-rouge">foo</code> operations are correct</li>
  <li>Return the latest record for foo</li>
  <li>Do a profile lookup for <code class="highlighter-rouge">foo.bar.id</code> by fetching the URLs in the entry.
<em>Note</em>, this spec does not define a priority order for fetching those URLs.</li>
</ol>

<h3 id="supported-core--resolver-endpoints">Supported Core / Resolver Endpoints</h3>

<p>Generally, domain endpoints are not aware of subdomains (only endpoints
aware of subdomains is <code class="highlighter-rouge">/v1/users/&lt;foo.bar.tld&gt;</code>,
<code class="highlighter-rouge">/v1/names/&lt;foo.bar.tld&gt;</code>, and <code class="highlighter-rouge">/v1/addresses/bitcoin/&lt;foo.bar.tld&gt;</code>)
The endpoints which <em>are</em> subdomain aware are marked as such in
[api-specs.md], the cli command <code class="highlighter-rouge">blockstack lookup</code> is subdomain
aware.</p>

<p>This means that search is <em>not</em> yet supported.</p>

<p>The lookups work just like normal – it returns the user’s
profile object:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ curl -H "Authorization: bearer blockstack_integration_test_api_password" -H "Origin: http://localhost:3000" http://localhost:16268/v1/users/bar.foo.id -v -s | python -m json.tool
*   Trying 127.0.0.1...
* Connected to localhost (127.0.0.1) port 16268 (#0)
&gt; GET /v1/users/bar.foo.id HTTP/1.1
&gt; Host: localhost:16268
&gt; User-Agent: curl/7.50.1
&gt; Accept: */*
&gt; Authorization: bearer blockstack_integration_test_api_password
&gt; Origin: http://localhost:3000
&gt;
* HTTP 1.0, assume close after body
&lt; HTTP/1.0 200 OK
&lt; Server: SimpleHTTP/0.6 Python/2.7.12+
&lt; Date: Thu, 03 Aug 2017 14:39:16 GMT
&lt; content-type: application/json
&lt; Access-Control-Allow-Origin: *
&lt;
{ [66 bytes data]
* Closing connection 0
{
    "bar": {
        "@type": "Person",
        "description": "Lorem Ipsum Bazorem"
    }
}
</code></pre>
</div>

<p>Name info lookups are also supported (this should enable authenticating logins
with <code class="highlighter-rouge">blockstack.js</code>, but I will need to double check).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ curl -H "Authorization: bearer XXXX" -H "Origin: http://localhost:3000" http://localhost:6270/v1/names/created_equal.self_evident_truth.id -s | python -m json.tool
{
    "address": "1AYddAnfHbw6bPNvnsQFFrEuUdhMhf2XG9",
    "blockchain": "bitcoin",
    "expire_block": -1,
    "last_txid": "0bacfd5a3e0ec68723d5948d6c1a04ad0de1378c872d45fa2276ebbd7be230f7",
    "satus": "registered_subdomain",
    "zonefile_hash": "48fc1b351ce81cf0a9fd9b4eae7a3f80e93c0451",
    "zonefile_txt": "$ORIGIN created_equal\n$TTL 3600\n_https._tcp URI 10 1 \"https://www.cs.princeton.edu/~ablankst/created_equal.json\"\n_file URI 10 1 \"file:///tmp/created_equal.json\"\n"
}
</code></pre>
</div>

<h3 id="subdomain-caching">Subdomain Caching</h3>

<p>A resolver <em>caches</em> a subdomain’s state by keeping a database of all
the current subdomain records. This database is automatically updated
when a new zonefile for a particularly domain is seen by the resolver
(this is performed lazily).</p>

<h3 id="testing-subdomain-registrar-and-resolution">Testing Subdomain Registrar and Resolution</h3>

<p>You can run a subdomain registrar and resolver with blockstack-core in
regtest mode as follows:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>docker run -dt -p 3000:3000 -p 6270:6270 -p 16269:16269 -p 18332:18332 -e <span class="nv">BLOCKSTACK_TEST_CLIENT_RPC_PORT</span><span class="o">=</span>6270 -e <span class="nv">BLOCKSTACK_TEST_CLIENT_BIND</span><span class="o">=</span>0.0.0.0 -e <span class="nv">BLOCKSTACK_TEST_BITCOIND_ALLOWIP</span><span class="o">=</span>172.17.0.0/16 quay.io/blockstack/integrationtests:master blockstack-test-scenario --interactive 2 blockstack_integration_tests.scenarios.browser_env<span class="k">)</span>
</code></pre>
</div>

<p>Once you see <code class="highlighter-rouge">Test finished; doing checks</code> in that container’s logs, the
registrar has started and is ready to accept requests. (We recommend
following the docker instructions below for running this test in
Docker, as it will fetch the source code for the registrar and set the
correct environment variables for it to run).</p>

<p>Once this environment has started, you can issue a registration request from curl:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>curl -X POST -H 'Content-Type: application/json' --data '{"zonefile": "$ORIGIN baz\n$TTL 3600\n_file URI 10 1 \"file:///tmp/baz.profile.json\"\n", "name": "baz", "owner_address": "14x2EMRz1gf16UzGbxZh2c6sJg4A8wcHLD"}' http://localhost:3000/register/
</code></pre>
</div>

<p>This registers <code class="highlighter-rouge">baz.foo.id</code> – you can check the registrar’s status with</p>

<div class="highlighter-rouge"><pre class="highlight"><code>curl http://localhost:3000/status/baz
</code></pre>
</div>

<p>The API endpoints <code class="highlighter-rouge">/v1/users/&lt;foo.bar.tld&gt;</code>,
<code class="highlighter-rouge">/v1/names/&lt;foo.bar.tld&gt;</code>, and <code class="highlighter-rouge">/v1/addresses/bitcoin/&lt;foo.bar.tld&gt;</code> all work, so if you query the core API, you’ll get a response.</p>

<p>For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>curl http://localhost:6270/v1/names/baz.foo.id | python -m json.tool
</code></pre>
</div>

<p>Will return:</p>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1Nup2UcbVuVoDZeZCtR4vjSkrvTi8toTqc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expire_block"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43bbcbd8793cdc52f1b0bd2713ed136f4f104a683a9fd5c89911a57a8c4b28b6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"satus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"registered_subdomain"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zonefile_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e7e3aada18c9ac5189f1c54089e987f58c0fa51e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zonefile_txt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$ORIGIN bar\n$TTL 3600\n_file URI 10 1 \"file:///tmp/baz.profile.json\"\n"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="running-an-interactive-testing-environment-with-the-subdomain-registrar-service">Running an interactive testing environment with the Subdomain Registrar service</h3>

<p>Follow the <a href="https://github.com/blockstack/blockstack-core/blob/master/integration_tests/README.md">instructions here</a> to download the regtesting Docker image.</p>

<p>Since the subdomain registrar service runs on port 3000, we need to do two things to expose this endpoint to interact with it from the browser:</p>
<ul>
  <li>Open port 3000 with <code class="highlighter-rouge">-p 3000:3000</code></li>
</ul>

<p>Here’s the full command you’d run to start the interactive testing scenario:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nv">IMAGE</span><span class="o">=</span><span class="k">$(</span>docker run -dt -p 3000:3000 -p 6270:6270 -p 16269:16269 -p 18332:18332 -e <span class="nv">BLOCKSTACK_TEST_CLIENT_RPC_PORT</span><span class="o">=</span>6270 -e <span class="nv">BLOCKSTACK_TEST_CLIENT_BIND</span><span class="o">=</span>0.0.0.0 -e <span class="nv">BLOCKSTACK_TEST_BITCOIND_ALLOWIP</span><span class="o">=</span>172.17.0.0/16 quay.io/blockstack/integrationtests:master blockstack-test-scenario --interactive 2 blockstack_integration_tests.scenarios.browser_env<span class="k">)</span>
</code></pre>
</div>

                        <div class="share uk-text-center">
    <a href="https://twitter.com/intent/tweet?text=Subdomain Design and Implementation&url=https://docs.blockstack.org/core/naming/tutorial_subdomains.html&via=&related=" rel="nofollow" target="_blank" title="Share on Twitter" onclick="window.open(this.href, 'twitter', 'width=550,height=235');return false;"><span data-uk-icon="icon: twitter; ratio: 1.2"></span></a>
    <a  class="uk-margin-small-left" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.blockstack.org%2Fcore%2Fnaming%2Ftutorial_subdomains.html" rel="nofollow" target="_blank" title="Share on Facebook" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><span data-uk-icon="icon: facebook; ratio: 1.2"></span></a>
</div>

                    </div>

                    <hr class="uk-margin-medium">

                    




                    <!-- <div class="uk-margin-large-top">
    <h3>Related Articles</h3>

    
    
    

    <ul class="uk-list">
    
    </ul>
</div>
 -->

                </article>

                <script>
                    // Table of contents scroll to
                    UIkit.scroll('#markdown-toc a', {
                        duration: 400,
                        offset: 120
                    });
                </script>

            </div>

    </div>
</div>


    <div id="offcanvas" data-uk-offcanvas="flip: true; overlay: true">
    <div class="uk-offcanvas-bar">

        <button class="uk-offcanvas-close" type="button" data-uk-close></button>

        <ul class="uk-nav uk-nav-default">
            <!-- <li><a class="uk-logo uk-margin-small-bottom" href="/"><img src="https://docs.blockstack.org/assets/posts/logo.png" alt="Docs"></a></li> -->
            <li><a class="uk-logo uk-margin-small-bottom" href="/"><img src="/assets/posts/logo.png" alt="Docs"></a></li>
            
                
            <li><a href="https://blockstack.org" target="_blank" >Blockstack.org</a></li>
            
                
            <li><a href="https://forum.blockstack.org/" target="_blank" >Forums</a></li>
            
                
            <li><a href="https://github.com/blockstack" target="_blank" >GitHub</a></li>
            
        </ul>

        <div class="uk-margin-small-top uk-text-center uk-text-muted uk-link-muted">
            <div data-uk-grid class="uk-child-width-auto uk-grid-small uk-flex-center uk-grid">
                
<div class="uk-first-column">
    <a href="https://twitter.com/" data-uk-icon="icon: twitter" class="uk-icon-link uk-icon" target="_blank"></a>
</div>


<div>
    <a href="https://www.facebook.com/" data-uk-icon="icon: facebook" class="uk-icon-link uk-icon" target="_blank"></a>
</div>




<div>
    <a href="https://www.instagram.com/" data-uk-icon="icon: instagram" class="uk-icon-link uk-icon" target="_blank"></a>
</div>





<div>
    <a href="https://vimeo.com/" data-uk-icon="icon: vimeo" class="uk-icon-link uk-icon" target="_blank"></a>
</div>






            </div>
        </div>

    </div>
</div>


    
        <footer class="uk-section uk-text-center uk-text-muted uk-link-muted">
    <div class="uk-container uk-container-small">

        <!-- <div>
            <ul class="uk-subnav uk-flex-center">
                
                    
                    
                    
                        <li><a href="https://blockstack.org" target="_blank" >Blockstack.org</a></li>
                    
                
                    
                    
                    
                        <li><a href="https://forum.blockstack.org/" target="_blank" >Forums</a></li>
                    
                
                    
                    
                    
                        <li><a href="https://github.com/blockstack" target="_blank" >GitHub</a></li>
                    
                
            </ul>
        </div>
        <div class="uk-margin-medium">
            <div data-uk-grid class="uk-child-width-auto uk-grid-small uk-flex-center uk-grid">
                
<div class="uk-first-column">
    <a href="https://twitter.com/" data-uk-icon="icon: twitter" class="uk-icon-link uk-icon" target="_blank"></a>
</div>


<div>
    <a href="https://www.facebook.com/" data-uk-icon="icon: facebook" class="uk-icon-link uk-icon" target="_blank"></a>
</div>




<div>
    <a href="https://www.instagram.com/" data-uk-icon="icon: instagram" class="uk-icon-link uk-icon" target="_blank"></a>
</div>





<div>
    <a href="https://vimeo.com/" data-uk-icon="icon: vimeo" class="uk-icon-link uk-icon" target="_blank"></a>
</div>






            </div>
        </div> -->
        <div class="uk-margin-medium uk-text-small copyright">&copy; 2018 Blockstack</div>

    </div>
</footer>

    

    
        <script type="text/javascript">
   /* Create a configuration object */
   var ss360Config = {
      /* Your site id */
      siteId: 'blockstack',
      /* A CSS selector that points to your search  box */
      searchBox: {
        selector: '#article-content'
      },
      results: {
         embedConfig: undefined, // {'url':undefined,'contentBlock':'.page-content-body'}, // if url is given the page will change to that URL and look for the content block there to insert the results
         fullScreenConfig: undefined, // {trigger: '#ss360-search-trigger', caption: 'Search this site'}, trigger is the CSS selector to the element that starts the search full screen overlay and searchCaption the caption on the full screen search page
         caption: 'Found #COUNT# search results for \"#QUERY#\"', // the caption of the search results
         group: true, // whether results should be grouped if content groups are available
         filters: undefined,
         num: 96, // the maximum number of search results to be shown
         highlightQueryTerms: true, // whether to highlight the query terms in search results
         moreResultsButton: "Show more results", // HTML for the more results button, all results will be shown if this is null
         noResultsText: 'Sorry, we have not found any matches for your query.', // the text to show when there are no results
         queryCorrectionText: 'Did you mean "#CORRECTION#"?',
         searchQueryParamName: 'ss360Query', // the name of the search query parameter
         linksOpenNewTab: false, // should clicking on the result links open a new tab/window?
         showSearchBoxLayover: true, //whether to show search box in search result layover
         moreResultsPagingSize: 12, // the number of new results to show each time the more results button is pressed (max: 24)
         orderByRelevanceText: "Relevance" // the text to be shown in order select box to describe 'order by relevance' option
      },
      suggestions: {
         show: true,  // whether to show search suggestions
         maxQuerySuggestions: 3, // the maximum number of query suggestions
         querySuggestionHeadline: undefined, // the headline of the query suggestions, leave blank if no headline should be shown
         emptyQuerySuggestions: undefined,
         showImages: false, // show images in search suggestions
         num: 6, // the maximum number of search suggestions to be shown
         minChars: 3, // minimum number of characters before the suggestions shows, default: 3,
         maxWidth: 'auto', // the maximum width of the suggest box, default: as wide as the input box, at least 275px
         throttleTime: 300, // the number of milliseconds before the suggest is triggered after finished input, default: 300ms
         extraHtml: undefined, // extra HTML code that is shown in each search suggest, you can even show values of datapoints here,
         highlight: true, // whether matched words should be highlighted, default: true
       },
       smart404: { /* The caption of the search results. */
             caption: 'These links might be useful', /* The string in the title that identifies the page as a 404 page. */
             identifier: 'Page not found', /* A CSS selector that points to the area in which the alternative links should be shown. */
             resultSelector: '#ss360-404',
        }
   };
</script>
<script src="https://cdn.sitesearch360.com/sitesearch360-v11.min.js" async></script>

    




    </body>

</html>
